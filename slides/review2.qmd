---
title: Exercise Review 2
subtitle: Tracking Changes in DataLad Datasets
format: clean-revealjs
html-math-method:
  method: mathjax
  url: "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
author:
  - name: MichaÅ‚ Szczepanik
    email: m.szczepanik@fz-juelich.de
    affiliations: Research Center Juelich
  - name: Ole Bialas
    email: bialas@uni-bonn.de
    affiliations: University of Bonn
date: 08-19-2025
---

## Git Versus git-annex

- Data in datasets is either stored in Git or git-annex
- Matter of configuration; by default, everything is annexed

![](img/publishing_gitvsannex.svg){.center}

## Git Versus git-annex

Git and git-annex handle files differently:

::: {.incremental}
- Files in Git are downloaded during `clone`, annexed contents are retrieved on demand (`get`).
- On `datalad save`, annexed contents are hashed, moved to `.git/annex/objects` and symlinked.
- Git versions the symlink (content-identity), not the content.
- Content is "locked" (write-protected) against accidental modifications.
- Files stored in Git are modifiable, annexed files are write-protected.
:::

## Annexed Files on Windows

Windows' file system does not support symlinks[^1]. Under these conditions, git-annex automatically operates
in "adjusted unlocked mode":

::: {.incremental}
- File contents are *duplicated*: One copy to edit, one to keep safe.
- No (un)locking -- trade-off: disk space use vs easy modification.
- Annexed files are *pointer files* instead of symlinks: A text file with the contents "/annex/objects/" followed by the key.
- Git annex uses *adjusted branches*, which unlock on top the locked counterpart branch.
  Compatibility with other systems but confusing Git log and issues in some nesting usecases.
:::

[^1]: Oversimplification. It kind-of does, but not by default.

## Hands-on: Creating Backups and Sharing DataLad Datasets

:::{.timer #UNIQUE-ID seconds=600 starton=interaction}
:::
![](./img/qr.png){.absolute top=50 right=200 width="300" height="300"}

- Website: [olebialas.github.io/DataLad-EuroScipy25](https://olebialas.github.io/DataLad-EuroScipy25/)
- Go to: *Exercises* > *Part3: Creating Backups and Sharing DataLad Datasets*