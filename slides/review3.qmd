---
title: Exercise Review 3
subtitle: Creating Backups and Sharing DataLad Datasets
format: clean-revealjs
html-math-method:
  method: mathjax
  url: "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
author:
  - name: Michał Szczepanik
    email: m.szczepanik@fz-juelich.de
    affiliations: Research Center Juelich
  - name: Ole Bialas
    email: bialas@uni-bonn.de
    affiliations: University of Bonn
date: 08-19-2025
---

## Using a Bare Git Repository as Push Target

::: {.incremental}
- bare == no worktree
  - contents of `.git` directly in the directory
  - when shared pushes can't break the worktree
  - suited for storing on a server [^1]
- with git-annex on the machine, can store git+annex
- good default for Git & git-annex aware services
:::

::: {.notes}
Demo: `git init --bare ~/penguins_backup`
:::

[^1]: <https://git-scm.com/book/en/v2/Git-on-the-Server-Getting-Git-on-a-Server>

## What Contents Are Actually being pushed?

::: {.incremental}
- Any git repository (local or online) can be added as a dataset sibling
- The first push initializes the repository’s annex ID, the second push actually tranfers the files
- `datalad push` acts on the contents you already got
  - to transfer specific files, use `datalad get` first
:::

::: {.notes}
- Sibling demo: `datalad siblings add --name backup --url ~/penguins_backup`
- push demo:
`tree -d ~/penguins_backup` 
`datalad push --to backup`
`datalad push --to backup`
`tree -d ~/penguins_backup` 

- Note that DataLad will only push the files that are present in the current repository. For files that are not present, we have to use `datalad get` first
:::

## Using non-Git-aware Storage Services

::: {.fragment}
- git-annex has **special remotes** that implement various strorage services (`git annex initremote`)
:::

::: {.fragment}
<iframe src="https://git-annex.branchable.com/special_remotes/" width="100%" height="300px" frameborder="1" ></iframe>
:::

::: {.fragment}
- you can have multiple special remotes with fine-grained configuration:
  - [preferred content](https://git-annex.branchable.com/preferred_content/) (*think:which files should be stored?*)
  - [numcopies](https://git-annex.branchable.com/git-annex-numcopies/) (*think: how many copies should be kept?*)
:::


## DataLad Supported Services

::: {.fragment}
- DataLad supports all services that are supported by git-annex
:::

::: {.fragment}
- DataLad supports additional services via dedicated extensions (check the handbook)

![](img/services.svg){.absolute top=230 right=350 width=450}

:::

